<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>F4U Admin</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
    <script>
      let blankPass = "";

      while (blankPass == "139565") {
        blankPass = prompt("Password:");
      }
    </script>
    <script
      src="https://cdn.tiny.cloud/1/z73rzu47ldxeaiwrsozbmoe8vfn0msr5p9uadhin7a8uq7cw/tinymce/6/tinymce.min.js"
      referrerpolicy="origin"
    ></script>
    <style>
      @media (max-width: 768px) {
        .container {
          max-width: unset;
        }
      }

      body {
        background-color: #ddd;
      }

      table img {
        max-width: 200px;
        max-height: 100px;
      }

      table button {
        margin: 5px;
      }

      td {
        vertical-align: middle;
      }
    </style>
  </head>
  <body>
    <nav class="bg-primary p-2">
      <h2 class="text-light">F4U Admin İçerik Editörü</h2>
    </nav>
    <main class="container">
      <div class="mt-5 p-2 bg-white rounded">
        <button type="button" class="btn btn-primary">İçerik Ekle <i class="fa-solid fa-plus"></i></button>
        <button type="button" class="btn btn-secondary" onclick="reload()">
          İçerikleri Yenile <i class="fa-solid fa-rotate-right"></i>
        </button>
      </div>
      <table class="table mt-3">
        <thead class="thead-dark">
          <tr>
            <th scope="col">#</th>
            <th scope="col">Resim</th>
            <th scope="col">Başlık</th>
            <th scope="col">Özet</th>
            <th scope="col">Düzenle</th>
          </tr>
        </thead>
        <tbody></tbody>
      </table>
      <div id="save" class="mt-5 p-2">
        <button type="button" class="btn btn-success">Kaydet <i class="fa-solid fa-floppy-disk"></i></button>
      </div>
      <textarea></textarea>
    </main>

    <script>
      tinymce.init({
        selector: "textarea",
        plugins: "anchor autolink charmap codesample emoticons image link lists media searchreplace table visualblocks", // checklist mediaembed advcode editimage powerpaste inlinecss
        toolbar:
          "undo redo | blocks fontfamily fontsize | bold italic underline strikethrough | link image media table mergetags | align lineheight | tinycomments | checklist numlist bullist indent outdent | emoticons charmap | removeformat",
      });
    </script>
    <script src="https://kit.fontawesome.com/3b47d68fb0.js" crossorigin="anonymous"></script>
    <script>
      const tbody = document.querySelector("tbody");

      async function reload() {
        try {
          let response = await fetch("https://fitgelsin.com/services/contents.php").then((response) => response.json());
        } catch {
          alert("Error F7BF07");
        }

        tbody.innerHTML = "";

        response.forEach((content, i) => {
          tbody.innerHTML += `<tr><th scope="row" data-index="${content.id}">${
            i + 1
          }</th><td><img src="https://fitgelsin.com/assets/images/temporary/${content.picture}" /></td><td>${
            content.title
          }</td><td>${
            content.description
          }</td><td><button class="btn btn-warning btn-sm" onclick="editItem()">Düzenle <i class="fa-solid fa-pen-to-square"></i></button><button class="btn btn-danger btn-sm" onclick="deleteItem()">Sil <i class="fa-solid fa-trash-can"></i></button></td></tr>`;
        });
      }

      reload();

      function deleteItem() {
        alert("del");
      }

      function editItem() {
        alert("edit");
      }

      // IMG ALIGN WIDTH OBJECT FIT-LIKE
    </script>
  </body>
</html>
